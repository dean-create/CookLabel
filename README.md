# CookLabel
CookLabel 是一个基于开源项目 LabelImg 进行功能增强开发的图像标注工具。
该工具专为计算机视觉和深度学习项目设计，提供了直观易用的图形界面，
支持多种标注格式，并新增了多项实用功能，大幅提升标注效率。
<img width="2559" height="1496" alt="image" src="https://github.com/user-attachments/assets/527d7a06-cdd6-4ade-a21e-19f37519f024" />

增强版图像标注工具使用说明文档

✨ 增强功能（相比原版LabelImg）
• 进度记录功能：自动记录标注进度，退出后可恢复到上次标注位置
• 图片分类功能：支持数字键0-4快速分类图片到不同文件夹
• 图片删除与恢复：支持删除图片并可一键恢复误删图片
• 图片裁剪功能：内置图片裁剪工具，方便预处理
• 亮度调节功能：支持实时调节图片亮度，便于标注暗图
• 增强的快捷键：优化快捷键布局，提高操作效率
• 智能文件管理：分离图片和标签文件夹选择，避免误操作
• 视频拆帧功能：支持固定间隔、均匀采样、目标跟踪、手动选择四种拆帧模式
• 数据清洗功能：支持重复图片检测、模糊图片检测、过曝图片检测
• 模型推理功能：集成YOLO和NanoDet模型进行自动标注
• 主题定制：支持自定义界面主题颜色和标注框颜色

🔧 基础功能
• 矩形标注：支持创建、编辑、删除矩形标注框
• 多格式支持：支持YOLO、Pascal VOC、CreateML等多种标注格式
• 标签管理：支持自定义标签类别，颜色管理
• 批量操作：支持批量标注、复制粘贴标注框
• 视图控制：支持缩放、适应窗口、全屏等视图操作
• 自动保存：支持自动保存标注结果，防止数据丢失

💻 系统要求
• 操作系统：Windows 10/11, macOS 10.14+, Ubuntu 18.04+
• Python版本：Python 3.6 或更高版本
• 内存：建议 4GB 以上
• 硬盘空间：至少 1GB 可用空间
• 显卡：支持OpenGL的显卡（用于图像渲染加速）

📦 安装说明

方法一：使用requirements.txt安装依赖
1. 确保已安装Python 3.6及以上
2. 打开命令行，切换到项目目录
3. 创建虚拟环境（推荐）：miniconda
4. 安装依赖：
   pip install -r indispensable/requirements.txt
5. 运行程序：
   python CookLabel.py

方法二：手动安装核心依赖
1. 安装PyQt5：pip install PyQt5>=5.15.0
2. 安装OpenCV：pip install opencv-python>=4.5.0
3. 安装其他依赖：pip install Pillow numpy lxml
4. 运行程序：python CookLabel.py

🚀 快速开始

1. 启动程序：
   python CookLabel.py

2. 打开图片文件夹：
   点击"打开目录"按钮，选择包含图片的文件夹

3. 设置保存目录：
   点击"改变存放目录"按钮，选择标注文件保存位置

4. 开始标注：
   • 点击"创建区块"或按W键开始绘制标注框
   • 拖拽鼠标绘制矩形框
   • 在弹出的对话框中输入或选择标签类别
   • 按A/D键切换上一张/下一张图片

⌨️ 快捷键说明

基础操作：
• W：创建标注框
• A：上一张图片
• D：下一张图片
• Del：删除选中的标注框
• Ctrl+S：保存当前标注
• Ctrl+D：复制当前标注框
• Space：标记当前图片为已验证

增强功能：
• Q：删除当前图片
• E：裁剪当前图片
• R：恢复上一次操作
• 0-4：将当前图片分类到对应文件夹
• +/-：调节图片亮度
• Ctrl+0：重置图片亮度

视图控制：
• Ctrl++：放大
• Ctrl+-：缩小
• Ctrl+Wheel：鼠标滚轮缩放
• Ctrl+F：适应窗口
• Ctrl+Shift+F：适应宽度

🔧 功能详解

1. 进度记录功能
   • 自动保存当前标注进度到progress/progress.txt
   • 重新打开项目时自动恢复到上次位置
   • 支持大批量标注任务的分段完成

2. 图片分类功能
   • 使用数字键0-4快速分类图片
   • 自动创建对应的images和labels子文件夹
   • 同时移动图片和对应的标注文件
   • 支持撤回分类操作

3. 图片删除与恢复
   • Q键删除当前图片到Delete文件夹
   • R键恢复上一次删除操作
   • 保持图片和标注文件的对应关系

4. 视频拆帧功能
   • 固定间隔拆帧：按指定帧数间隔提取
   • 均匀采样拆帧：在视频中均匀提取指定数量帧
   • 目标跟踪拆帧：基于目标跟踪算法智能提取关键帧
   • 手动选择拆帧：手动选择需要提取的帧

5. 数据清洗功能
   • 重复图片检测：基于图像哈希算法检测重复图片
   • 模糊图片检测：基于拉普拉斯算子检测模糊图片
   • 过曝图片检测：基于直方图分析检测过曝图片

6. 模型推理功能
   • 支持YOLO系列模型自动标注
   • 支持NanoDet轻量级检测模型
   • 可加载自定义训练的模型文件
   • 支持批量推理和结果后处理

📋 支持的标注格式

1. Pascal VOC (XML格式)
   • ImageNet标准格式
   • 包含详细的标注信息和元数据
   • 适用于目标检测和分割任务

2. YOLO (TXT格式)
   • 轻量级格式，文件小
   • 归一化坐标，便于不同尺寸图片
   • 广泛用于YOLO系列模型训练

3. CreateML (JSON格式)
   • Apple CreateML框架标准格式
   • 适用于iOS/macOS机器学习应用
   • 支持复杂的标注结构

🛠️ 故障排除

常见问题及解决方案：

1. 程序无法启动
   • 检查Python版本是否为3.6+
   • 确认已安装所有必需依赖
   • 尝试重新安装PyQt5：pip install --upgrade PyQt5

2. 图片无法显示
   • 检查图片格式是否支持（JPG, PNG, BMP等）
   • 确认图片文件未损坏
   • 检查文件路径是否包含特殊字符

3. 标注文件保存失败
   • 检查保存目录是否有写入权限
   • 确认磁盘空间充足
   • 检查文件名是否包含非法字符

4. 快捷键不响应
   • 确保主窗口处于焦点状态
   • 检查是否与系统快捷键冲突
   • 尝试重启程序

5. 模型推理功能异常
   • 检查模型文件是否存在且完整
   • 确认已安装torch和相关依赖
   • 检查GPU驱动和CUDA版本兼容性

💡 使用技巧

1. 提高标注效率
   • 熟练使用快捷键，减少鼠标操作
   • 开启自动保存功能，避免数据丢失
   • 使用标签预定义文件，快速选择常用标签
   • 利用复制粘贴功能处理相似标注

2. 数据管理建议
   • 建立清晰的文件夹结构
   • 定期备份标注数据
   • 使用有意义的文件命名规则
   • 合理使用图片分类功能整理数据

3. 质量控制
   • 定期检查标注质量
   • 使用验证功能标记已完成的图片
   • 利用数据清洗功能去除低质量图片
   • 建立标注规范和质量标准

📞 技术支持

如果在使用过程中遇到问题，可以通过以下方式获取帮助：

1. 查看程序内置帮助
   • 菜单栏 -> 帮助 -> 快捷键说明
   • 菜单栏 -> 帮助 -> 功能说明

2. 检查日志文件
   • 查看项目根目录下的logs.txt文件
   • 日志包含详细的操作记录和错误信息

3. 常见问题自查
   • 确认系统环境符合要求
   • 检查依赖库是否正确安装
   • 验证文件权限和路径设置

📄 版权信息

本软件基于开源项目LabelImg进行功能增强开发，遵循MIT开源协议。
感谢LabelImg项目的原作者Tzutalin和所有贡献者为计算机视觉社区
提供的优秀工具基础。

原项目地址：https://github.com/tzutalin/labelImg

🔄 更新日志

v1.0 (当前版本)
• 新增进度记录功能，支持断点续标
• 新增图片分类功能，支持快速整理数据
• 新增图片删除与恢复功能
• 新增图片裁剪功能
• 新增亮度调节功能
• 新增视频拆帧功能（四种模式）
• 新增数据清洗功能（三种检测）
• 新增模型推理功能（YOLO/NanoDet）
• 新增主题定制功能
• 优化快捷键布局和用户体验
• 增强文件管理和错误处理
• 完善中文界面和帮助文档
                        感谢使用 CookLabel v1.0 Plus！
                    祝您标注工作顺利，项目开发成功！
